"use strict";(self.webpackChunkquickinvest_frontend=self.webpackChunkquickinvest_frontend||[]).push([[316],{63308:(e,a,l)=>{l.r(a),l.d(a,{default:()=>k});var t=l(72791),o=(l(4834),l(88813)),i=l(53148),n=l(72531),d=l(79836),s=l(53382),r=l(53994),u=l(39281),v=l(56890),c=l(72450),m=l(35855),h=l(11087),g=l(80184);const p=e=>{let{columns:a,rows:l,perPageShow:o,tableHeight:i,className:n,data:p,level:x,pageNo:b,searchId:f,date:k,pagePerShow:y,setPagePerShow:P,setPageNo:N,isCustomPagination:j}=e;const[,S]=(0,h.lr)(),[R,w]=t.useState(o);return(0,t.useEffect)((()=>{S({page:1}),N(1)}),[f,k,x]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{className:"".concat(n),sx:{maxHeight:i,width:"100%",maxWidth:"100%"},children:(0,g.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"materialTable",children:[(0,g.jsx)(v.Z,{className:"materialTableHead",children:(0,g.jsx)(m.Z,{className:"materialTableRow",children:a.map(((e,a)=>(0,g.jsx)(r.Z,{align:e.align,style:{minWidth:e.minWidth},className:"materialTableCell",children:e.label},a+50)))})}),(0,g.jsx)(s.Z,{className:"materialTableBody",children:null===l||void 0===l?void 0:l.map(((e,l)=>(0,g.jsx)(m.Z,{className:"materialTableBodyRow",hover:!0,role:"checkbox",tabIndex:-1,children:a.map((a=>{const l=e[a.id];return(0,g.jsx)(r.Z,{className:"materialTableBodyCell",align:a.align,children:a.format&&"number"===typeof l?a.format(l):l},a.id)}))},l+100)))})]})}),j?(0,g.jsxs)("div",{style:{display:"flex",marginTop:"20px"},children:[(0,g.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,g.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[(0,g.jsx)("button",{disabled:!1===(null===p||void 0===p?void 0:p.hasPrevPage),onClick:()=>{b&&N((e=>e-1)),y&&S({page:b-1})},style:{border:"none",padding:"5px 10px",fontSize:"15px",borderRadius:"5px",background:"#1a73e8",color:"#fff",cursor:"pointer"},children:"Prev"}),(0,g.jsx)("button",{disabled:!1===(null===p||void 0===p?void 0:p.hasNextPage),onClick:()=>{b&&N((e=>e+1)),y&&S({page:b+1})},style:{border:"none",padding:"5px 10px",fontSize:"15px",borderRadius:"5px",background:"#1a73e8",color:"#fff",cursor:"pointer"},children:"Next"})]}),(0,g.jsxs)("span",{style:{color:"--var(--text-p-black)",marginRight:"10px",fontWeight:"500"},children:[null===p||void 0===p?void 0:p.page," out of ",null===p||void 0===p?void 0:p.totalPages]})]}),(0,g.jsx)("div",{children:(0,g.jsxs)("select",{onChange:e=>{P(Number(e.target.value)),w(Number(e.target.value))},defaultValue:"".concat(y),style:{padding:"6px 10px",fontSize:"13px",fontWeight:"600 !important",border:"1px solid gray",borderRadius:"5px",outline:"none"},children:[(0,g.jsx)("option",{value:"10",children:"10"}),(0,g.jsx)("option",{value:"20",children:"20"}),(0,g.jsx)("option",{value:"50",children:"50"}),(0,g.jsx)("option",{value:"100",children:"100"})]})})]}):(0,g.jsx)(c.Z,{rowsPerPageOptions:[5],component:"div",count:void 0!==(null===p||void 0===p?void 0:p.totalDocs)?null===p||void 0===p?void 0:p.totalDocs:0,rowsPerPage:R,className:"materialTablePagination"})]})},x=[{id:"sn",label:"S.N",minWidth:20},{id:"userId",label:"User ID",minWidth:100},{id:"fullName",label:"Full Name",minWidth:120},{id:"currentRank",label:"Current Rank",minWidth:80},{id:"nextRank",label:"Next Rank",minWidth:80},{id:"totalTeamBusiness",label:"Current Team Business",minWidth:80},{id:"totalRequiredBusiness",label:"Required Business",minWidth:120}],b=e=>{let{data:a,editHandler:l,blockHandler:t,totalData:o,totalItems:i,date:n,searchId:d,pageNo:s,pagePerShow:r,setPagePerShow:u,setPageNo:v,isCustomPagination:c}=e;console.log("my data",a);const m=null===a||void 0===a?void 0:a.map(((e,a)=>{var l,t,o,n,d,s,u,v,c,m,h,g,p,x;return v=((null===i||void 0===i?void 0:i.page)-1)*r+(a+1),c=null===e||void 0===e||null===(l=e.userInfo)||void 0===l?void 0:l.userId,m=null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.fullName,h=null===e||void 0===e||null===(o=e.userInfo)||void 0===o||null===(n=o.royaltyRank)||void 0===n?void 0:n.currentRank,g=null===e||void 0===e||null===(d=e.userInfo)||void 0===d||null===(s=d.royaltyRank)||void 0===s||null===(u=s.nextRank)||void 0===u?void 0:u.rank,p=null===e||void 0===e?void 0:e.totalTeamBusiness,x=null===e||void 0===e?void 0:e.totalRequiredBusiness,{sn:v,userId:c,fullName:m,currentRank:h,nextRank:g,totalTeamBusiness:p,totalRequiredBusiness:x}}));return(0,g.jsx)(p,{columns:x,rows:m,perPageShow:r,tableHeight:640,className:"common_table",data:i,totalData:o,date:n,searchId:d,pageNo:s,setPageNo:v,setPagePerShow:u,pagePerShow:r,isCustomPagination:c})};var f=l(57689);const k=()=>{var e,a,l,d,s,r,u;const v=(0,f.TH)(),c=parseInt(null===(e=v.search)||void 0===e?void 0:e.split("=")[1])||1,[m,h]=(0,t.useState)(c),[p,x]=(0,t.useState)(10),[k,y]=(0,t.useState)(""),[P,N]=(0,t.useState)(""),[j,S]=(0,t.useState)(""),[R,w]=(0,t.useState)([]),I={page:m,limit:p,rank:j,searchById:k,rankType:P};console.log({filterQuery:I});const{data:D,isLoadingBlockUser:T}=(0,n.aN)(I),[C,B]=(0,t.useState)([]);null===C||void 0===C||C.sort(((e,a)=>{const l=new Date(e.createdAt);return new Date(a.createdAt)-l}));const[W,Z]=(0,t.useState)({});return(0,t.useEffect)((()=>{if(null!==W&&void 0!==W&&W.year&&null!==W&&void 0!==W&&W.month){var e;const a=null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.docs.filter(((e,a)=>{var l;return null===e||void 0===e||null===(l=e.joiningDate)||void 0===l?void 0:l.includes(null===W||void 0===W?void 0:W.year)})),l=null===a||void 0===a?void 0:a.filter((e=>{var a;return null===e||void 0===e||null===(a=e.joiningDate)||void 0===a?void 0:a.includes(null===W||void 0===W?void 0:W.month)}));B(l)}}),[null===W||void 0===W?void 0:W.year,null===W||void 0===W?void 0:W.month]),(0,t.useEffect)((()=>{var e;const a=new Date(R).toDateString(),l=null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.docs.filter((e=>(null===e||void 0===e?void 0:e.joiningDate)==a));B(l)}),[R]),T?(0,g.jsx)(i.Z,{}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(o.Z,{wrapperClassName:"activemember_table",cardStyle:{backgroundColor:"#fff"},sectionTableTitle:"Rank Status (".concat(null!==(a=null===D||void 0===D||null===(l=D.data)||void 0===l?void 0:l.totalDocs)&&void 0!==a?a:0,")"),data:null===D||void 0===D||null===(d=D.data)||void 0===d?void 0:d.docs,setFilterData:B,setDate:w,setMonthWiseFilterData:Z,monthWiseFilterData:W,setSearchById:y,searchById:k,date:R,countContainer:null===D||void 0===D||null===(s=D.data)||void 0===s?void 0:s.totalAmount,Rank:!0,setRank:S,setRankType:N,table:(0,g.jsx)(b,{data:null===D||void 0===D||null===(r=D.data)||void 0===r?void 0:r.docs,totalItems:null===D||void 0===D?void 0:D.data,date:R,searchId:k,totalData:null===D||void 0===D||null===(u=D.data)||void 0===u?void 0:u.totalDocs,pageNo:m,pagePerShow:p,setPageNo:h,setPagePerShow:x,isCustomPagination:!0})})})}}}]);
//# sourceMappingURL=316.7823c4e7.chunk.js.map